import{_ as a,c as s,o as i,a3 as e}from"./chunks/framework.ColA7jXW.js";const m=JSON.parse('{"title":"本地调试","description":"","frontmatter":{"title":"本地调试"},"headers":[],"relativePath":"quickstart/dev.md","filePath":"quickstart/dev.md"}'),n={name:"quickstart/dev.md"},t=e(`<h3 id="所需环境" tabindex="-1">所需环境 <a class="header-anchor" href="#所需环境" aria-label="Permalink to &quot;所需环境&quot;">​</a></h3><ul><li>jdk 1.8</li><li>mysql 8.0.+</li><li>redis 6.0.+</li><li>node 16.16.+ (16及以下, 16+ 不可以)</li><li>maven 3.5.+</li></ul><p>⚡ maven 推荐使用阿里云 mirror<br> ⚡ npm 建议使用淘宝镜像 <code>npm config set registry https://registry.npmmirror.com/</code><br> ⚡ yarn 建议使用淘宝镜像 <code>yarn config set registry https://registry.npmmirror.com/</code><br> ⚡ windows 环境二次开发需要安装 OpenSSH Server</p><h3 id="拉取代码" tabindex="-1">拉取代码 <a class="header-anchor" href="#拉取代码" aria-label="Permalink to &quot;拉取代码&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># github</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/lijiahangmax/orion-ops</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># gitee</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://gitee.com/lijiahangmax/orion-ops</span></span></code></pre></div><h3 id="初始化数据库" tabindex="-1">初始化数据库 <a class="header-anchor" href="#初始化数据库" aria-label="Permalink to &quot;初始化数据库&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># 执行DDL脚本</span></span>
<span class="line"><span>orion-ops/sql/init-1-schema.sql</span></span>
<span class="line"><span># 执行默认数据脚本 [默认用户, 默认应用环境, 常用命令模板] (可选)</span></span>
<span class="line"><span>orion-ops/sql/init-2-data.sql</span></span></code></pre></div><h3 id="修改后端配置" tabindex="-1">修改后端配置 <a class="header-anchor" href="#修改后端配置" aria-label="Permalink to &quot;修改后端配置&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># 修改配置文件</span></span>
<span class="line"><span>orion-ops/orion-ops-api/orion-ops-web/src/main/resources/application-dev.properties</span></span>
<span class="line"><span># 修改全局加密密钥, 为了密码安全考虑 (推荐修改)</span></span>
<span class="line"><span>orion-ops/orion-ops-api/orion-ops-web/src/main/resources/application.properties value.mix.secret.key</span></span></code></pre></div><h3 id="修改前端配置" tabindex="-1">修改前端配置 <a class="header-anchor" href="#修改前端配置" aria-label="Permalink to &quot;修改前端配置&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 进入代码目录</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> orion-ops/orion-ops-vue</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 下载 yarn</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> i</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 下载依赖</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 运行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> serve:dev</span></span></code></pre></div><h3 id="运行" tabindex="-1">运行 <a class="header-anchor" href="#运行" aria-label="Permalink to &quot;运行&quot;">​</a></h3><p>后端服务启动时需要设置启动参数 <code>--generator-admin</code> 来生成默认管理员用户 (已执行 <code>init-2-data.sql</code> 则可以忽略)<br> 启动参数 idea 中设置 <code>应用设置</code> &gt; <code>Environment</code> &gt; <code>Program arguments</code></p><h3 id="测试访问" tabindex="-1">测试访问 <a class="header-anchor" href="#测试访问" aria-label="Permalink to &quot;测试访问&quot;">​</a></h3><p>在浏览器中输入 <a href="http://localhost:10010/ops" target="_blank" rel="noreferrer">http://localhost:10010/ops</a> 访问<br> 账号: <code>orionadmin</code><br> 密码: <code>orionadmin</code></p><h3 id="swagger" tabindex="-1">swagger <a class="header-anchor" href="#swagger" aria-label="Permalink to &quot;swagger&quot;">​</a></h3><p>地址: <a href="http://127.0.0.1:9119/doc.html#/home" target="_blank" rel="noreferrer">http://127.0.0.1:9119/doc.html#/home</a><br> 文档只有在 <code>dev</code> 环境才可以访问</p><h3 id="配置系统" tabindex="-1">配置系统 <a class="header-anchor" href="#配置系统" aria-label="Permalink to &quot;配置系统&quot;">​</a></h3><p>登录后需要配置宿主机 SSH 信息, 本地调试阶段宿主机可以改为远程机器<br> 如果是密码登录: 机器管理 &gt; 机器列表 &gt; <code>宿主机</code> &gt; 更多 &gt; 编辑 &gt; 选择认证方式为密码 &gt; 输入密码 &gt; 确定<br> 如果是密钥登陆: 机器管理 &gt; 机器密钥 &gt; 新建<br> 配置完成后测试连接: 机器管理 &gt; 机器列表 &gt; <code>宿主机</code> &gt; 更多 &gt; 测试连接<br> 创建应用环境: 应用管理 &gt; 环境管理 &gt; 添加 (已执行 <code>init-2-data.sql</code> 则可以忽略)</p><h3 id="启动参数" tabindex="-1">启动参数 <a class="header-anchor" href="#启动参数" aria-label="Permalink to &quot;启动参数&quot;">​</a></h3><h4 id="启动项目时提供了一些可选的执行参数" tabindex="-1">启动项目时提供了一些可选的执行参数 <a class="header-anchor" href="#启动项目时提供了一些可选的执行参数" aria-label="Permalink to &quot;启动项目时提供了一些可选的执行参数&quot;">​</a></h4><p>关闭IP过滤器 <code>--disable-ip-filter</code><br> 生成默认管理员账号 <code>--generator-admin</code> 账号: <code>orionadmin</code> 密码: <code>orionadmin</code><br> 重置默认管理员账号 <code>--reset-admin</code> 账号: <code>orionadmin</code> 密码: <code>orionadmin</code></p>`,22),o=[t];function l(r,p,h,d,c,k){return i(),s("div",null,o)}const b=a(n,[["render",l]]);export{m as __pageData,b as default};
